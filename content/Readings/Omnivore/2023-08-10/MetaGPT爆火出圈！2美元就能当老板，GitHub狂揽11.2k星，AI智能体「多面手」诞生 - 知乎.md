---
id: dc23c474-4c87-4a51-86e9-c7ae50e1af3a
title: |
  MetaGPT爆火出圈！2美元就能当老板，GitHub狂揽11.2k星，AI智能体「多面手」诞生 - 知乎
author: |
  新智元​人工智能话题下的优秀答主
date_saved: 2023-08-10 07:36:57
date_published: 2023-08-06 20:00:00
---

# MetaGPT爆火出圈！2美元就能当老板，GitHub狂揽11.2k星，AI智能体「多面手」诞生 - 知乎
#Omnivore

[Read on Omnivore](https://omnivore.app/me/https-zhuanlan-zhihu-com-p-648482813-189df3c29d6)

[Read Original](https://zhuanlan.zhihu.com/p/648482813)

## Highlights

> MetaGPT爆火出圈 [⤴️](https://omnivore.app/me/https-zhuanlan-zhihu-com-p-648482813-189df3c29d6#b79f88c6-1f13-4590-a024-40135064bae9)  ^b79f88c6

> 与AutoGPT类似，但针对产品需求、设计、竞争分析、API和文档量身定制 [⤴️](https://omnivore.app/me/https-zhuanlan-zhihu-com-p-648482813-189df3c29d6#fe526680-9dca-4004-a5f7-12f928760094)  ^fe526680

> 地址：[https://github.com/geekan/MetaGPT](https://link.zhihu.com/?target=https%3A//github.com/geekan/MetaGPT)
> 
> 最重要的是，只输入老板一句话的需求，它就能输出软件公司的整个流程，以及精心安排的SOP。 [⤴️](https://omnivore.app/me/https-zhuanlan-zhihu-com-p-648482813-189df3c29d6#d4923fce-2454-44e6-a7d9-5cc96c4bddf8)  ^d4923fce

> **示例（均由GPT-4生成）**
> 
> 比如，输入python startup.py "写个类似今日头条的推荐系统"，就会获得一系列输出，其一是数据结构与API设计：
> 
> ![](https://proxy-prod.omnivore-image-cache.app/1080x345,slDbyUis78G9fF0GTiHcDwNCIsmnz0ecuorbIxv2OIpg/https://pic4.zhimg.com/v2-5bda343b6ecc35f41528d2c8abbc60cb_b.jpg)
> 
> 生成一个包含分析和设计的示例大约需要0.2美元（GPT-4 API的费用），而一个完整的项目大约需要2.0美元 [⤴️](https://omnivore.app/me/https-zhuanlan-zhihu-com-p-648482813-189df3c29d6#06f36122-a08f-46a6-bf06-03760a212275)  ^06f36122

> MetaGPT的方法展示了，将高层次任务分解为由不同角色，比如产品经理、架构师、项目经理、工程师，处理的详细可操作组件的能力。 [⤴️](https://omnivore.app/me/https-zhuanlan-zhihu-com-p-648482813-189df3c29d6#1c4005af-b91e-4d75-92ff-34cb1635293c)  ^1c4005af

> **平台或工具的偏好**
> 
> 你可以在陈述需求时，说明自己想要使用的平台或工具。 [⤴️](https://omnivore.app/me/https-zhuanlan-zhihu-com-p-648482813-189df3c29d6#89cfb9d4-830e-4057-aeab-0b08edf7019c)  ^89cfb9d4


--- 

Full Content: 

编辑：桃子 好困

智能体，就是未来！

近来，又一个AI智能体项目MetaGPT爆火了，短短一个月在GitHub上狂揽11.2k星。

这是一个多智能体框架，能够扮演不同的角色，一位工程师、产品经理、架构师和项目经理。

==与AutoGPT类似，但针对产品需求、设计、竞争分析、API和文档量身定制==。

![](https://proxy-prod.omnivore-image-cache.app/1080x505,sAt49aIg1NvChoPD2hQ0Ug6Z-pKm5-wCUbg4Ff0WvvR8/https://pic3.zhimg.com/v2-9511f2a3d561b72e8db80a53b0697abe_b.jpg)

==地址：==[https://github.com/geekan/MetaGPT](https://link.zhihu.com/?target=https%3A//github.com/geekan/MetaGPT)

==最重要的是，只输入老板一句话的需求，它就能输出软件公司的整个流程，以及精心安排的SOP。==

其中，Code = SOP(Team)是核心哲学。将SOP具象化，并且用于LLM构成的团队。

![](https://proxy-prod.omnivore-image-cache.app/1080x389,scaajB1h602t1q_S-doBhqj7O33m5OIJPkMdVoE84G9Y/https://pic1.zhimg.com/v2-94d6fc9e2689f14ffd0f4c959daddb7c_b.jpg)

软件公司多角色示意图（正在逐步实现）

**MetaGPT**

![](https://proxy-prod.omnivore-image-cache.app/1080x326,saKEon9f5I5Q76hi-_2tCQd_aUZYQnG7_Wh5mXoMH2Lc/https://pic2.zhimg.com/v2-0be474870c87736cbacbf430bde571a5_b.jpg)

**==示例（均由GPT-4生成）==**

==比如，输入python startup.py "写个类似今日头条的推荐系统"，就会获得一系列输出，其一是数据结构与API设计：==

![](https://proxy-prod.omnivore-image-cache.app/1080x345,slDbyUis78G9fF0GTiHcDwNCIsmnz0ecuorbIxv2OIpg/https://pic4.zhimg.com/v2-5bda343b6ecc35f41528d2c8abbc60cb_b.jpg)

==生成一个包含分析和设计的示例大约需要0.2美元（GPT-4 API的费用），而一个完整的项目大约需要2.0美元==。

如下是，MetaGPT与人类团队的软件开发SOP比较图。

==MetaGPT的方法展示了，将高层次任务分解为由不同角色，比如产品经理、架构师、项目经理、工程师，处理的详细可操作组件的能力。==

这种方法与人类软件开发团队类似，但优势在于能够提高效率、精确性和一致性。

![](https://proxy-prod.omnivore-image-cache.app/1080x1185,s5SExnztoi3DqGUh2iVHeRQjsq6mQI8lQWAn6oKhhzeY/https://pic4.zhimg.com/v2-65e3368223ba8fddc1422421f7e35b43_b.jpg)

MetaGPT核心组成部分如下：

![](https://proxy-prod.omnivore-image-cache.app/1080x0,sylmLqKatnc2xb57UWriSra0Rid_YdOY-t0W1XcjuhsE/https://pic4.zhimg.com/v2-3f8789bca1049d56cf34696f2c93b343_b.jpg)

**网友实现**

有网友用MetaGPT十分钟，就做出了一个小游戏Flappy Bird。

![动图封面](https://proxy-prod.omnivore-image-cache.app/640x0,syjLxeYmkM6UkrdRWSrroO5aRbGbp2lQz7FpWWZTRJ-4/https://pic3.zhimg.com/v2-52f72a61d8cf6262a277e10dca822cda_b.jpg)

她表示，MetaGPT功能过于强大，也许真的可以取代软件公司！

![](https://proxy-prod.omnivore-image-cache.app/1080x391,sj-zE018jIbW8REuZQt285_7DwLcpmpjQje2RChA9aFk/https://pic3.zhimg.com/v2-68443db2175752ca0ba130cfd760493e_b.jpg)

以下是这位网友制作游戏的全过程。

首先，在电脑上通过「传统安装」过程安装MetaGPT，并输入OpenAI API密钥。

把自己的需求通过prompt的形式告诉系统后，就可以看着MetaGPT给你写代码了。

> python startup.py "write p5.js code for Flappy Bird where you control a yellow bird continuously flying between a series of green pipes. The bird flaps every time you left click the mouse. If the bird falls to the ground or hits a pipe, you lose. This game goes on infinitely until you lose and you get points the further you go" --code\_review True

![动图封面](https://proxy-prod.omnivore-image-cache.app/640x0,stPp0bcj6IEKaKDcJ7k4johvgP--6uuFULCa4DaD_zMk/https://pic1.zhimg.com/v2-b37846da3470155ffc82109ce778f0ec_b.jpg)

接着，运行python main.py。然而，此时程序却报出了一堆bug。

![](https://proxy-prod.omnivore-image-cache.app/1080x607,spejAumLhYfx9SIo8soea4q5I8Bu12F5QbvhiaQDlvOs/https://pic3.zhimg.com/v2-767b45f43db5c8bfdc2754b784525756_b.jpg)

问题不大，把这堆代码直接扔给Code Interpreter，让GPT-4来debug。

![](https://proxy-prod.omnivore-image-cache.app/1080x490,sbazkdoc-uuCZP5QhP_pcouuColTNko9RnWwwk5ORBPM/https://pic3.zhimg.com/v2-846a5412d7258554d70ad352bb807e5a_b.jpg)

代码改完之后，再用Midjourney生成一只红色小鸟。

![](https://proxy-prod.omnivore-image-cache.app/1214x1300,s1K_TKvmnU_gpc1aLu98dSdRKPqYWv4s9sZ0ydIlYn-U/https://pic2.zhimg.com/v2-c93f68ec6b2fc7eed5b7e36a92017f1d_b.jpg)

顺便问一下GPT-4图片的格式和尺寸。

![](https://proxy-prod.omnivore-image-cache.app/740x723,sm3gKzi7eBygQUugu0klqvoi7YlhSsPsyydUHDfwTQkM/https://pic1.zhimg.com/v2-0a3f731fc36fb68eea8f701fb2e519ec_b.jpg)

再用canva调整小鸟和管道的大小。

![](https://proxy-prod.omnivore-image-cache.app/1080x702,s47zoKIYRY8C-GocDMeYq-L0Aib4ahbs2o4WrVuqZQAo/https://pic4.zhimg.com/v2-e935f7155a45c54a03dad5ec8e1a6137_b.jpg)

最后，运行游戏。

网友表示，虽然有一些小问题，比如顶部的管道没有杀死小鸟。但它还是成功了，而且我没有写一行代码，甚至都不用调试！！！！！

只要别让小鸟碰到底部的管道就行。

![](https://proxy-prod.omnivore-image-cache.app/1080x524,s0EnbzV0tvpHfDybCrEHAsblijpCxxCtJFCk2Tl7WY1g/https://pic4.zhimg.com/v2-65cbf9487b69aacd15d931ebe205e5e3_b.jpg)

也有网友做了同样的游戏，效果如下：

![动图封面](https://proxy-prod.omnivore-image-cache.app/640x0,sxlQfXPQmh4RaHF2Qm3KjBmadAURscJL-9i6L7ZWuDzk/https://pic1.zhimg.com/v2-59a864002c0ea9c77a1da694ab801f8c_b.jpg)

另外，还有日本网友还用其制作了「二十一点」。

![](https://proxy-prod.omnivore-image-cache.app/1080x535,s8emChWhYuhPHE_D1X7a2hhSgyTNItj98NnrN7ktVQqQ/https://pic2.zhimg.com/v2-0f1f356de614bda0099f2f95bff0042d_b.jpg)

![](https://proxy-prod.omnivore-image-cache.app/1080x714,sQulPNqIfu9z3kiVsGh5aKIWT7gAfAx29L7ltTgZg2ow/https://pic2.zhimg.com/v2-d99be08c8828c940de59f9ad7d43d9ad_b.jpg)

**安装**

**传统安装**

```properties
# 步骤1：确保已经安装了NPM。并使用npm安装mermaid-js

npm --version

sudo npm install -g @mermaid-js/mermaid-cli


# 步骤2：确保已经安装了Python 3.9+。可以使用以下命令进行检查：

python --version


# 步骤3：克隆仓库到本机，并进行安装。

git clone https://github.com/geekan/metagpt

cd metagpt

python setup.py install
```

**Docker安装**

```routeros
# 步骤1: 下载metagpt官方镜像并准备好config.yaml

docker pull metagpt/metagpt:v0.3

mkdir -p /opt/metagpt/{config,workspace}

docker run --rm metagpt/metagpt:v0.3 cat /app/metagpt/config/config.yaml > /opt/metagpt/config/config.yaml

vim /opt/metagpt/config/config.yaml # 修改config


# 步骤2: 使用容器运行metagpt演示

docker run --rm \

    --privileged \

    -v /opt/metagpt/config:/app/metagpt/config \

    -v /opt/metagpt/workspace:/app/metagpt/workspace \

    metagpt/metagpt:v0.3 \

    python startup.py "Write a cli snake game"


# 也可以启动一个容器并在其中执行命令

docker run --name metagpt -d \

    --privileged \

    -v /opt/metagpt/config:/app/metagpt/config \

    -v /opt/metagpt/workspace:/app/metagpt/workspace \

    metagpt/metagpt:v0.3


docker exec -it metagpt /bin/bash

$ python startup.py "Write a cli snake game"
```

docker run ...做了以下事情:

以特权模式运行，有权限运行浏览器

将主机目录/opt/metagpt/config映射到容器目录/app/metagpt/config

将主机目录/opt/metagpt/workspace映射到容器目录/app/metagpt/workspace

执行演示命令python startup.py "Write a cli snake game"

**自己构建镜像**

```crmsh
# 也可以自己构建metagpt镜像

git clone https://github.com/geekan/MetaGPT.git

cd MetaGPT && docker build -t metagpt:custom .
```

**配置**

在config/key.yaml / config/config.yaml / env中配置你的OPENAI\_API\_KEY

优先级顺序：config/key.yaml > config/config.yaml > env

```arduino
# 复制配置文件并进行必要的修改

cp config/config.yaml config/key.yaml
```

![](https://proxy-prod.omnivore-image-cache.app/1080x176,sDfdDbXvDBU1CavcN6Ce5E0JdxjrKKAWLuk6sohHoEMg/https://pic2.zhimg.com/v2-896fefd0227df454f22df7641a42930d_b.jpg)

**演示：启动一个创业公司**

```vim
python startup.py "Write a cli snake game"
# 使用code review模式会增加开销，但同时也会提升代码质量和成功率
python startup.py "Write a cli snake game" --code_review True
```

运行脚本后，就可以在workspace/目录中找到你的新项目了。

**==平台或工具的偏好==**

==你可以在陈述需求时，说明自己想要使用的平台或工具。==

```vim
python startup.py "Write a cli snake game based on pygame"
```

**使用**

```smali
NAME

    startup.py - We are a software startup comprised of AI. By investing in us, you are empowering a future filled with limitless possibilities.


SYNOPSIS

    startup.py IDEA <flags>


DESCRIPTION

    We are a software startup comprised of AI. By investing in us, you are empowering a future filled with limitless possibilities.

    # 我们是一家AI软件创业公司。通过投资我们，您将赋能一个充满无限可能的未来。


POSITIONAL ARGUMENTS

    IDEA

        Type: str

        你的创新想法，例如"Creating a snake game."


FLAGS

    --investment=INVESTMENT

        Type: float

        Default: 3.0

        As an investor, you have the opportunity to contribute a certain dollar amount to this AI company.

        # 作为投资者，您有机会向这家AI公司投入一定的美元金额。

    --n_round=N_ROUND

        Type: int

        Default: 5


NOTES

    也可以用FLAGS的语法，来处理POSITIONAL ARGUMENTS。
```

**代码实现**

```python
from metagpt.software_company import SoftwareCompany
from metagpt.roles import ProjectManager, ProductManager, Architect, Engineer


async def startup(idea: str, investment: float = 3.0, n_round: int = 5):
    """Run a startup. Be a boss."""
    company = SoftwareCompany()
    company.hire([ProductManager(), Architect(), ProjectManager(), Engineer()])
    company.invest(investment)
    company.start_project(idea)
    await company.run(n_round=n_round)
```

你可以查看examples，其中有单角色（带知识库）的使用例子与仅LLM的使用例子。

参考资料：

[https://arxiv.org/pdf/2308.00352.pdf](https://link.zhihu.com/?target=https%3A//arxiv.org/pdf/2308.00352.pdf)

[https://github.com/geekan/MetaGPT](https://link.zhihu.com/?target=https%3A//github.com/geekan/MetaGPT)

[https://twitter.com/99aico/status/1684249002437668864](https://link.zhihu.com/?target=https%3A//twitter.com/99aico/status/1684249002437668864)
